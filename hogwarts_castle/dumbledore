#!/bin/python3
import os
import time

DUMBLEDORE = """
                                     . .............:::............
                              ......:############################*+.......
                              .##############%%%###*###*###%%#########*:.
                         ...#######%#####################################+..
                       ..#############################################*%###.
                     ..%####%###############################################...
                     .=####*#################################################..
                     =-####*--############----*############----##########-###..
                     .--%####-*###########----=####=--=####----#########*--###.
                      .---###*#=--------+##*+*##---------*###*##*-------**=###.
                        -=###----------------------------------------------###=..
                       .=####***##############################***++==-------###..
                       .-=############################################***###%##..
                        :-#########%%%%%%%%%%%%%%%%%%%%%%%%%###################=.
                        .:##+=%##----------------------------------------***%%#..
                       .:###==##=----------------------------------------##+=##.
                       .:##==+##-----------------------------------------##*==##.
                      .:##*==+##-----------------------------------------+##==##.
                      :=##===+##-----------------------------------------=#*===##.
                     .:##+===+##----=+==----------------------------------#*===##.
                     :###====+##---#########++---------------=#*#######---##====#*
                    .:##+====##=--------#######+-----------+#######%#=----##====##.
                    .##*====*##--------------------------------------------#*====#*.
                  ..###====*###--------------------------------------------##*===##.
                  .###====#####------@@@@@#---------------------@@@@#=----*###+===%#.
                ..##+===+###=##*----+@@@@@@#-------------------@@@@@@@----##+-##*==##:.
               ..##+==+###*===##=----@@@@@@------+*****+++------@@@@@#---+##==+##++=*#
               =##*=+###%#*===*#*------@@=---*#####===-=%###++---=@*-----##===##=##+=##.
               -##*###@@+##====%#*--------=###*============-%##+--------##+===##*@*#*##.
               :##*====@@##=====*##+=---*##%========+#*=======-##++--=###=====##@===##..
               .:###=====##+======*######+=====++*###=##+*+**====*#####======+##====##.
               .:###=====*##===================-========-##==================##+====##.
              ..###+======##=================================================##=====-#*.
             ..###========%#*===============================================*#*=======##.
            .-##*==========#*+=============================================+##========##*
             -###===========#**===========================================##%========###.
             .###*===========%#**======================================+###=========+##.
              .*##+============###*++===============================*####===========##..
               .##*===============+####+*+=====================+#*###+@@=========+###..
                .=##++============@@+++##*###*+***+=====+***#####++++++@*===*#*####.
                 ..:####*++*+=====@@++++++@@++*%###=====##%++++@*++++++@%####=.. .
                      ...+####++*#@+++++++*@++++**=####*=#*++++@+++++++%@..
                              .##@@++++++++@+++##***#====##++++@#%%%%@@@@=
                              .:+@@@@@@@@@@@+++##=+=+#====##+++@@@@*+=#@*.
                               ..#@%=--@@@+++++##========+##+++++#@@@@@%.
                                ..+@@@@@#++++++##*=======##+++++++++@@.
                                 .--%@++++++++++##+====+##=+++++++++#@.
                                 .--@@++++++++++++##*=*##++++++++++++@=.
                                .---@*+++++++++++++%###++++++++++++++@@.
                                 --@@+++++++++++++++++++++++++++++++*%@.
                                .:-@@*#%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@.
                                 ..@@@@@@@@@@@@@@@@@@-%@@@@@@@@@@@%-.
                                     ..=%@@@%##**++===---:::::.....
                                        ..... .    . .
"""

def run_dumbledore_intro() -> None:
    print(DUMBLEDORE)
    time.sleep(1)
    print("Hello Harry!")
    print("We need your help, there's two monsters blocking passage to the school!")
    print("Without them removed, we'll be on summer break forever!!!")
    time.sleep(3)
    print("\n\n\n")
    print("The monsters will need some special spells to defeat them.")
    print("Next to me is a spell book... use it learn new spells.")
    print('To **search** for a particular spell, do `grep "PHRASE" ./spell_book.txt.`')
    time.sleep(3)
    print("\n\n\n")
    print('For example, I know "Tab Complete" will be quite helpful for you')
    print('Search for it in the spell book by doing `grep "Tab Complete" ./spell_book.txt`')
    time.sleep(5)
    print("Once you're done defeating both monsters, come see me for your prize!")
    time.sleep(5)
    print("Good luck Harry!")


def run_dumbledore_so_close() -> None:
    print(DUMBLEDORE)
    time.sleep(1)
    print("Harry, you're so close! Just one more trial to go!!!")


def run_dumbledore_outro() -> None:
    print(DUMBLEDORE)
    time.sleep(1)
    print("Harry!!! I knew you could do it!")
    time.sleep(2)
    print("Now it's time to claim your prize")
    time.sleep(2)
    print("Open up a new terminal (Application/Utilities/Terminal) and run `say I won give me candy Mr Rizzi`")


if __name__ == "__main__":
    monster_1_alive = os.path.isfile("/var/hogwarts_castle/back_gate/monster.txt")
    monster_2_alive = os.path.isfile("/var/hogwarts_castle/front_door/monster_friend.txt")

    if monster_1_alive and not monster_2_alive:
        run_dumbledore_intro()
    if monster_1_alive or not monster_2_alive:
        run_dumbledore_so_close()
    else:
        run_dumbledore_outro()

